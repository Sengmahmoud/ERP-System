@model ERP.ViewModels.AccountViewModel
@{
    ViewData["Title"] = "Home";
    Layout = "_Layout";
    decimal totalcridit = 0;
    decimal totaldepit = 0;
    decimal total = totalcridit - totaldepit;

}



    <div class="form-group row">
        <div class="col-md-6">
            <label>Clients</label>
            <select id="ClientsList" name="AccountId" class="selectClient show-tick form-control" onchange="run3()"
                    asp-items="@(new SelectList(Model.Accounts, "AccountId", "AcNameAr" ))">
                <option>Please select Account</option>
            </select>

           
        </div>
        <div class="col-md-6">
            <label>Total</label>
            <input disabled value=" @total" type="text" class="form-control" />
        </div>
    </div>
    <div class="form-group row">

        <div class="col-md-6">
            <label>Data From</label>
            <input id="ffdate"  name="fromdate" type="date" class="form-control"  onchange="run1()" />
            <input type="text" id="fdate" value="" />
        </div>
        <div class="col-md-6">
            <label>Data To</label>
            <input id="ttdate" name="todate" type="date" class="form-control" onchange="run2()"/>
            <input type="text" id="tdate" value=""  />
        </div>
    </div>

    <div class="form-group row">

        <div class="col-md-6">
            <button type="button" class="btn btn-danger"><a href="javascript:void(0);" class="anchorDetail">Details</a></button>
            <input class="btn btn-primary" value="Show Details" type="submit" />
        </div>
        <div class="col-md-6">

        </div>
    </div>




<div class="col-md-12">
    <table id="dtBasicExample" class="table table-striped table-bordered table-sm" cellspacing="0" width="100%">
        <thead>
            <tr>
                <th class="th-sm">
                    Id

                </th>
                <th class="th-sm">
                    Date

                </th>
                <th class="th-sm">
                    Note

                </th>

                <th class="th-sm">
                    Dibt

                </th>
                <th class="th-sm">
                    cridt

                </th>
            </tr>
        </thead>
        <tbody>
          
        </tbody>
        <tfoot>
            <tr>
                <th class="th-sm">


                </th>
                <th class="th-sm">


                </th>
                <th class="th-sm">


                </th>
               
                    <th class="th-sm">
                        @totaldepit

                    </th>
                    <th class="th-sm">

                      
                    </th>
                
                </tr>
        </tfoot>
    </table>
</div>


@section Scripts
{

     

    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.12/js/select2.full.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.12/css/select2.min.css" />
    <script>
        $(document).ready(function () {
            $("#ClientsList").select2();
        });
    </script>

    <script>
          $(".anchorDetail").click(function () {
            var _AccountId = document.getElementById("ClientsList").value;
            var _fromdate = document.getElementById("ffdate").value;
            var _todate = document.getElementById("ttdate").value;
            $('#dtBasicExample').DataTable({
                "ajax": {
                    'type': 'POST',
                    'data': { AccountId: _AccountId, fromdate: _fromdate, todate: _todate },
                    'dataType': "json",
                    "url": "@Url.Action("Index")",
                    "dataSrc": function (result) {
                        return result;
                    }
                },
                "columns": [
                    { "data": "JdetailId" },
                    { "data": "DueDate" },
                    { "data": "Notes" },
                    { "data": "Debit" },
                    { "data": "Credit" }


                ]
            });
        });
    </script>
}